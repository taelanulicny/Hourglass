(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[938,673],{9509:function(e,r,t){Promise.resolve().then(t.bind(t,1314))},9376:function(e,r,t){"use strict";var s=t(5475);t.o(s,"useRouter")&&t.d(r,{useRouter:function(){return s.useRouter}}),t.o(s,"useSearchParams")&&t.d(r,{useSearchParams:function(){return s.useSearchParams}})},1314:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return i}});var s=t(7437),a=t(2265),o=t(9376),l=t(8673);function n(){let e=(0,o.useRouter)(),r=(0,o.useSearchParams)(),[t,n]=(0,a.useState)("Your Name"),[i,c]=(0,a.useState)(null),[d,u]=(0,a.useState)(""),[m,x]=(0,a.useState)(""),[h,g]=(0,a.useState)(!1),[p,f]=(0,a.useState)(!1),[b,v]=(0,a.useState)(""),[y,j]=(0,a.useState)(""),[w,N]=(0,a.useState)(""),[k,C]=(0,a.useState)(""),[S,L]=(0,a.useState)(!1),[E,I]=(0,a.useState)(!1),[A,M]=(0,a.useState)(!1),[P,W]=(0,a.useState)("8"),[H,F]=(0,a.useState)("0"),[B,z]=(0,a.useState)("12"),[D,O]=(0,a.useState)("monday"),[T,G]=(0,a.useState)(!1),[R,V]=(0,a.useState)(!1),[_,K]=(0,a.useState)(!1),U=(0,a.useCallback)(async()=>{try{let e=await fetch("/api/auth/google/status"),r=await e.json();return V(r.connected||!1),r.connected||!1}catch(e){return console.error("Error checking Google connection:",e),V(!1),!1}},[]),Y=async()=>{if(confirm("Are you sure you want to disconnect Google Calendar? Your Google events will no longer appear in the calendar.")){K(!0);try{(await fetch("/api/auth/google/disconnect",{method:"POST"})).ok?V(!1):alert("Failed to disconnect. Please try again.")}catch(e){console.error("Error disconnecting Google Calendar:",e),alert("Error disconnecting Google Calendar. Please try again.")}finally{K(!1)}}};(0,a.useEffect)(()=>{let e=localStorage.getItem("sleepHours"),r=localStorage.getItem("miscHours"),t=localStorage.getItem("userName"),s=localStorage.getItem("profilePicture"),a=localStorage.getItem("userEmail"),o=localStorage.getItem("userPassword");e&&W(e),r&&F(r),t&&n(t),s&&c(s),a&&u(a),o&&x(o),U()},[U]),(0,a.useEffect)(()=>{let t=null==r?void 0:r.get("google_connected"),s=null==r?void 0:r.get("error");"true"===t?(V(!0),(0,l.hL)("server").then(()=>{window.location.reload()}).catch(e=>{console.error("Auto-sync failed (this is OK if first time connecting):",e)}),e.replace("/settings",{scroll:!1})):s&&(alert("Google Calendar connection error: ".concat(s)),e.replace("/settings",{scroll:!1}))},[r,e]);let J=e=>{W(e),localStorage.setItem("sleepHours",e),window.dispatchEvent(new CustomEvent("sleepHoursChanged",{detail:e}))},q=e=>{F(e),e&&parseFloat(e)>0?localStorage.setItem("miscHours",e):localStorage.removeItem("miscHours"),window.dispatchEvent(new CustomEvent("miscHoursChanged",{detail:e}))},Q=async()=>{if(confirm("Clear all cached data and reload the app? This will ensure you have the latest version."))try{if("serviceWorker"in navigator)for(let e of(await navigator.serviceWorker.getRegistrations()))await e.unregister();if("caches"in window){let e=await caches.keys();await Promise.all(e.map(e=>caches.delete(e)))}alert("Cache cleared! The page will now reload."),window.location.reload(!0)}catch(e){console.error("Error clearing cache:",e),alert("Error clearing cache. Please try manually: Settings > Clear browsing data > Cached images and files")}},X=()=>{f(!1),N(""),C(""),M(!1)},Z=!d&&!m,$=d&&""!==d.trim();return(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 text-gray-900",children:[(0,s.jsx)("header",{className:"fixed top-0 left-0 right-0 z-50 bg-white/95 backdrop-blur-lg shadow-sm border-b border-gray-100",children:(0,s.jsxs)("div",{className:"flex items-center justify-between px-4 pt-16 pb-3",children:[(0,s.jsxs)("button",{onClick:()=>e.back(),className:"flex items-center gap-2 text-gray-700 hover:text-gray-900 transition-colors",children:[(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),(0,s.jsx)("span",{className:"font-medium",children:"Back"})]}),(0,s.jsx)("h1",{className:"text-lg font-semibold text-gray-900",children:"Settings"}),(0,s.jsx)("div",{className:"w-16"})," "]})}),(0,s.jsxs)("div",{className:"pt-24 pb-32 px-4 py-6 space-y-6",children:[(0,s.jsxs)("section",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[(0,s.jsx)("div",{className:"px-6 py-4 border-b border-gray-100",children:(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Profile"})}),(0,s.jsxs)("div",{className:"p-6 space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),(0,s.jsx)("input",{type:"email",value:d,readOnly:!0,className:"w-full px-4 py-3 border border-gray-200 rounded-xl bg-gray-50 text-gray-600",placeholder:"No email set"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:S?"text":"password",value:m?S?m:"••••••••":"",readOnly:!0,className:"w-full px-4 py-3 pr-12 border border-gray-200 rounded-xl bg-gray-50 text-gray-600",placeholder:"No password set"}),m&&(0,s.jsx)("button",{onClick:()=>L(!S),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:S?(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})}):(0,s.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),$&&(0,s.jsxs)("button",{onClick:()=>{confirm("Are you sure you want to logout? This will clear your account information.")&&(u(""),x(""),L(!1),localStorage.removeItem("userEmail"),localStorage.removeItem("userPassword"),alert("Logged out successfully!"))},disabled:T,className:"w-full mt-4 px-4 py-3 bg-red-600 text-white font-medium rounded-xl hover:bg-red-700 transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:[(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),T?"Logging out...":"Logout"]}),Z&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{onClick:()=>{v(""),j(""),I(!1),g(!0)},disabled:T,className:"w-full mt-4 px-6 py-4 bg-green-600 text-white font-medium rounded-xl hover:bg-green-700 transition-colors disabled:opacity-50",children:T?"Loading...":"Create Account"}),(0,s.jsx)("button",{onClick:()=>{N(""),C(""),M(!1),f(!0)},disabled:T,className:"w-full mt-3 px-6 py-4 bg-blue-600 text-white font-medium rounded-xl hover:bg-blue-700 transition-colors disabled:opacity-50",children:T?"Loading...":"Login"})]}),(0,s.jsxs)("div",{className:"border-t border-gray-200 pt-4",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Display Name"}),(0,s.jsx)("input",{type:"text",value:t,onChange:e=>{n(e.target.value),localStorage.setItem("userName",e.target.value)},className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-[#8CA4AF] focus:border-transparent transition-colors",placeholder:"Enter your name"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-medium text-gray-900",children:"Profile Picture"}),(0,s.jsx)("div",{className:"text-sm text-gray-600",children:i?"Tap to change":"Tap to add a profile picture"})]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{let r=e.target.files[0];if(r){if(!r.type.startsWith("image/")){alert("Please select an image file.");return}if(r.size>2097152){alert("Please select an image smaller than 2MB.");return}let e=new FileReader;e.onload=e=>{let r=e.target.result;c(r),localStorage.setItem("profilePicture",r)},e.readAsDataURL(r)}},className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",style:{zIndex:1}}),(0,s.jsx)("div",{className:"w-12 h-12 bg-[#8CA4AF] rounded-full flex items-center justify-center text-white font-semibold overflow-hidden relative",children:i?(0,s.jsx)("img",{src:i,alt:"Profile",className:"w-full h-full object-cover rounded-full"}):t.charAt(0).toUpperCase()})]})]}),i&&(0,s.jsxs)("button",{onClick:()=>{c(null),localStorage.removeItem("profilePicture")},className:"w-full flex items-center justify-center gap-2 px-4 py-2 text-sm text-red-600 border border-red-200 rounded-xl hover:bg-red-50 transition-colors",children:[(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Remove Profile Picture"]})]})]}),(0,s.jsxs)("section",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[(0,s.jsx)("div",{className:"px-6 py-4 border-b border-gray-100",children:(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Integrations"})}),(0,s.jsxs)("div",{className:"p-6 space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-xl",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5 text-blue-600",children:[(0,s.jsx)("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),(0,s.jsx)("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),(0,s.jsx)("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),(0,s.jsx)("line",{x1:"3",y1:"10",x2:"21",y2:"10"}),(0,s.jsx)("path",{d:"M8 14h.01M12 14h.01M16 14h.01M8 18h.01M12 18h.01M16 18h.01"})]})}),(0,s.jsxs)("div",{className:"text-left",children:[(0,s.jsx)("div",{className:"font-medium text-gray-900",children:"Google Calendar"}),(0,s.jsx)("div",{className:"text-sm text-gray-600",children:R?"Connected - Your Google Calendar events will appear in the calendar":"Connect your Google Calendar to sync events"})]})]}),R?(0,s.jsx)("button",{onClick:Y,disabled:_,className:"px-4 py-2 text-sm font-medium text-red-600 border border-red-200 rounded-xl hover:bg-red-50 transition-colors disabled:opacity-50",children:_?"Disconnecting...":"Disconnect"}):(0,s.jsx)("button",{onClick:()=>{window.location.href="/api/auth/google/authorize"},disabled:_,className:"px-4 py-2 text-sm font-medium text-blue-600 border border-blue-200 rounded-xl hover:bg-blue-50 transition-colors disabled:opacity-50",children:_?"Connecting...":"Connect"})]}),R&&(0,s.jsx)("div",{className:"mt-4 p-3 border border-green-200 rounded-xl bg-green-50",children:(0,s.jsxs)("div",{className:"flex items-start gap-2",children:[(0,s.jsx)("svg",{className:"w-5 h-5 text-green-600 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,s.jsxs)("div",{className:"text-sm text-green-800",children:[(0,s.jsx)("div",{className:"font-medium mb-1",children:"Automatic Sync Enabled"}),(0,s.jsx)("div",{className:"text-xs text-green-700",children:"Your data automatically syncs across all devices. When you connect Google Calendar on a new device, your data will be there automatically."})]})]})})]})]}),(0,s.jsxs)("section",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[(0,s.jsx)("div",{className:"px-6 py-4 border-b border-gray-100",children:(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"App Preferences"})}),(0,s.jsxs)("div",{className:"p-6 space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sleep Hours"}),(0,s.jsx)("input",{type:"number",value:P,onChange:e=>J(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-[#8CA4AF] focus:border-transparent transition-colors",min:"0",step:"0.25",max:"24"}),(0,s.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"Hours reserved for sleep each day (24 - sleep hours = available planning time)"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Miscellaneous Time (Optional)"}),(0,s.jsx)("input",{type:"number",value:H,onChange:e=>q(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-[#8CA4AF] focus:border-transparent transition-colors",min:"0",step:"0.25",max:"8",placeholder:"0.0"}),(0,s.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"Optional time for leisure, breaks, or unplanned activities"})]}),(0,s.jsx)("div",{className:"p-4 bg-blue-50 rounded-xl border border-blue-200",children:(0,s.jsxs)("div",{className:"text-sm text-gray-700",children:[(0,s.jsx)("strong",{children:"Daily Productive Hours:"})," ",Math.max(0,24-parseFloat(P||8)-parseFloat(H||0))," hours",(0,s.jsx)("br",{}),(0,s.jsx)("strong",{children:"Weekly Productive Hours:"})," ",Math.max(0,(24-parseFloat(P||8)-parseFloat(H||0))*7)," hours"]})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time Format"}),(0,s.jsxs)("select",{value:B,onChange:e=>z(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-[#8CA4AF] focus:border-transparent transition-colors",children:[(0,s.jsx)("option",{value:"12",children:"12-hour (1:30 PM)"}),(0,s.jsx)("option",{value:"24",children:"24-hour (13:30)"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Week Starts On"}),(0,s.jsxs)("select",{value:D,onChange:e=>O(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-[#8CA4AF] focus:border-transparent transition-colors",children:[(0,s.jsx)("option",{value:"monday",children:"Monday"}),(0,s.jsx)("option",{value:"sunday",children:"Sunday"})]})]})]})]}),(0,s.jsxs)("section",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[(0,s.jsx)("div",{className:"px-6 py-4 border-b border-gray-100",children:(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"App Maintenance"})}),(0,s.jsxs)("div",{className:"p-6 space-y-4",children:[(0,s.jsxs)("button",{onClick:Q,className:"w-full flex items-center justify-between p-4 border border-purple-200 rounded-xl hover:bg-purple-50 transition-colors",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:(0,s.jsx)("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),(0,s.jsxs)("div",{className:"text-left",children:[(0,s.jsx)("div",{className:"font-medium text-purple-900",children:"Clear App Cache"}),(0,s.jsx)("div",{className:"text-sm text-purple-600",children:"Fix issues by clearing cached data"})]})]}),(0,s.jsx)("svg",{className:"w-5 h-5 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),(0,s.jsxs)("button",{onClick:()=>{if(confirm("Are you sure you want to delete all AI conversation history? This cannot be undone."))try{let e=Object.keys(localStorage).filter(e=>e.startsWith("aiHistory:"));e.forEach(e=>{localStorage.removeItem(e)}),alert("Successfully deleted ".concat(e.length," AI conversation histories."))}catch(e){console.error("Error clearing AI history:",e),alert("Error clearing AI history. Please try again.")}},className:"w-full flex items-center justify-between p-4 border border-orange-200 rounded-xl hover:bg-orange-50 transition-colors",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:(0,s.jsx)("svg",{className:"w-5 h-5 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),(0,s.jsxs)("div",{className:"text-left",children:[(0,s.jsx)("div",{className:"font-medium text-orange-900",children:"Clear AI History"}),(0,s.jsx)("div",{className:"text-sm text-orange-600",children:"Delete all AI conversation histories"})]})]}),(0,s.jsx)("svg",{className:"w-5 h-5 text-orange-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]}),(0,s.jsxs)("section",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[(0,s.jsx)("div",{className:"px-6 py-4 border-b border-gray-100",children:(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Data Management"})}),(0,s.jsxs)("div",{className:"p-6 space-y-4",children:[(0,s.jsxs)("button",{onClick:()=>{alert("Export functionality coming soon!")},className:"w-full flex items-center justify-between p-4 border border-gray-200 rounded-xl hover:bg-gray-50 transition-colors",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,s.jsx)("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,s.jsxs)("div",{className:"text-left",children:[(0,s.jsx)("div",{className:"font-medium text-gray-900",children:"Export Data"}),(0,s.jsx)("div",{className:"text-sm text-gray-600",children:"Download your focus area data"})]})]}),(0,s.jsx)("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),(0,s.jsxs)("button",{onClick:()=>{alert("Backup functionality coming soon!")},className:"w-full flex items-center justify-between p-4 border border-gray-200 rounded-xl hover:bg-gray-50 transition-colors",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:(0,s.jsx)("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})})}),(0,s.jsxs)("div",{className:"text-left",children:[(0,s.jsx)("div",{className:"font-medium text-gray-900",children:"Backup Data"}),(0,s.jsx)("div",{className:"text-sm text-gray-600",children:"Save your data locally"})]})]}),(0,s.jsx)("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),(0,s.jsxs)("button",{onClick:()=>{confirm("Are you sure you want to reset all app data? This cannot be undone.")&&alert("Reset functionality coming soon!")},className:"w-full flex items-center justify-between p-4 border border-red-200 rounded-xl hover:bg-red-50 transition-colors",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:(0,s.jsx)("svg",{className:"w-5 h-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),(0,s.jsxs)("div",{className:"text-left",children:[(0,s.jsx)("div",{className:"font-medium text-red-900",children:"Reset App Data"}),(0,s.jsx)("div",{className:"text-sm text-red-600",children:"Clear all data and start fresh"})]})]}),(0,s.jsx)("svg",{className:"w-5 h-5 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]}),(0,s.jsxs)("section",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[(0,s.jsx)("div",{className:"px-6 py-4 border-b border-gray-100",children:(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"About"})}),(0,s.jsxs)("div",{className:"p-6 space-y-4",children:[(0,s.jsx)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-[#8CA4AF] rounded-lg flex items-center justify-center",children:(0,s.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-medium text-gray-900",children:"Time Macros"}),(0,s.jsx)("div",{className:"text-sm text-gray-600",children:"Focus Area Tracker"})]})]})}),(0,s.jsx)("div",{className:"text-center text-sm text-gray-600",children:"Version 1.0.0"})]})]})]}),(0,s.jsx)("div",{className:"fixed bottom-0 left-0 right-0 p-3 pb-7 z-[9999]",children:(0,s.jsxs)("div",{className:"max-w-md mx-auto grid grid-cols-3 gap-3",children:[(0,s.jsx)("button",{onClick:()=>e.push("/"),className:"h-12 w-full rounded-2xl bg-white/40 backdrop-blur-xl text-gray-700 font-medium border-2 border-white/50 hover:bg-white/50 transition-all duration-200 shadow-2xl",children:"Dashboard"}),(0,s.jsx)("button",{onClick:()=>e.push("/calendar"),className:"h-12 w-full rounded-2xl bg-white/40 backdrop-blur-xl text-gray-700 font-medium border-2 border-white/50 hover:bg-white/50 transition-all duration-200 shadow-2xl",children:"Calendar"}),(0,s.jsx)("button",{onClick:()=>e.push("/search"),className:"h-12 w-full rounded-2xl bg-white/40 backdrop-blur-xl text-gray-700 font-medium border-2 border-white/50 hover:bg-white/50 transition-all duration-200 shadow-2xl",children:"Search"})]})}),h&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,s.jsxs)("div",{className:"bg-white rounded-2xl w-full max-w-md",children:[(0,s.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Create Account"})}),(0,s.jsxs)("div",{className:"p-6 space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),(0,s.jsx)("input",{type:"email",value:b,onChange:e=>v(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-[#8CA4AF] focus:border-transparent transition-colors",placeholder:"Enter your email",autoFocus:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:E?"text":"password",value:y,onChange:e=>j(e.target.value),className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-xl focus:ring-2 focus:ring-[#8CA4AF] focus:border-transparent transition-colors",placeholder:"Create your password"}),(0,s.jsx)("button",{onClick:()=>I(!E),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:E?(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})}):(0,s.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]})]}),(0,s.jsxs)("div",{className:"px-6 py-4 border-t border-gray-200 flex gap-3",children:[(0,s.jsx)("button",{onClick:()=>{g(!1),v(""),j(""),I(!1)},className:"flex-1 px-4 py-3 border border-gray-300 rounded-xl text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,s.jsx)("button",{onClick:()=>{if(!b||!y){alert("Please fill in both email and password.");return}u(b),x(y),localStorage.setItem("userEmail",b),localStorage.setItem("userPassword",y),g(!1),v(""),j(""),alert("Account information saved!")},className:"flex-1 px-4 py-3 bg-green-600 text-white rounded-xl hover:bg-green-700 transition-colors",children:"Finish Making Account"})]})]})}),p&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,s.jsxs)("div",{className:"bg-white rounded-2xl w-full max-w-md",children:[(0,s.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Login"})}),(0,s.jsxs)("div",{className:"p-6 space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),(0,s.jsx)("input",{type:"email",value:w,onChange:e=>N(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-[#8CA4AF] focus:border-transparent transition-colors",placeholder:"Enter your email",autoFocus:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:A?"text":"password",value:k,onChange:e=>C(e.target.value),className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-xl focus:ring-2 focus:ring-[#8CA4AF] focus:border-transparent transition-colors",placeholder:"Enter your password"}),(0,s.jsx)("button",{onClick:()=>M(!A),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:A?(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})}):(0,s.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]})]}),(0,s.jsxs)("div",{className:"px-6 py-4 border-t border-gray-200 flex gap-3",children:[(0,s.jsx)("button",{onClick:X,className:"flex-1 px-4 py-3 border border-gray-300 rounded-xl text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,s.jsx)("button",{onClick:()=>{if(!w||!k){alert("Please fill in both email and password.");return}u(w),x(k),localStorage.setItem("userEmail",w),localStorage.setItem("userPassword",k),X(),alert("Login successful!")},className:"flex-1 px-4 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors",children:"Login"})]})]})})]})}function i(){return(0,s.jsx)(a.Suspense,{fallback:(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center",children:(0,s.jsx)("div",{className:"text-gray-600",children:"Loading settings..."})}),children:(0,s.jsx)(n,{})})}},8673:function(e,r,t){"use strict";function s(){try{let e={focusCategories:localStorage.getItem("focusCategories"),hourglassEvents:localStorage.getItem("hourglassEvents:v1"),calendarEvents:localStorage.getItem("calendarEvents"),googleEventCustomizations:localStorage.getItem("googleEventCustomizations:v1"),sleepHours:localStorage.getItem("sleepHours"),miscHours:localStorage.getItem("miscHours"),userName:localStorage.getItem("userName"),profilePicture:localStorage.getItem("profilePicture"),timeFormat:localStorage.getItem("timeFormat"),weekStart:localStorage.getItem("weekStart"),weekData:{},lastProcessedWeekKey:localStorage.getItem("lastProcessedWeekKey")},r=[];for(let e=0;e<localStorage.length;e++){let t=localStorage.key(e);t&&(t.startsWith("focusAreas:week:")||t.startsWith("week:"))&&r.push(t)}r.forEach(r=>{e.weekData[r]=localStorage.getItem(r)});let t=[];for(let e=0;e<localStorage.length;e++){let r=localStorage.key(e);r&&r.startsWith("notes:")&&t.push(r)}e.notes={},t.forEach(r=>{e.notes[r]=localStorage.getItem(r)});let s=[];for(let e=0;e<localStorage.length;e++){let r=localStorage.key(e);r&&r.startsWith("eventNotes:")&&s.push(r)}return e.eventNotes={},s.forEach(r=>{e.eventNotes[r]=localStorage.getItem(r)}),e}catch(e){return console.error("Error collecting app data:",e),null}}function a(e){try{if(!e)return;e.focusCategories&&localStorage.setItem("focusCategories",e.focusCategories),e.hourglassEvents&&localStorage.setItem("hourglassEvents:v1",e.hourglassEvents),e.calendarEvents&&localStorage.setItem("calendarEvents",e.calendarEvents),e.googleEventCustomizations&&localStorage.setItem("googleEventCustomizations:v1",e.googleEventCustomizations),void 0!==e.sleepHours&&(e.sleepHours?localStorage.setItem("sleepHours",e.sleepHours):localStorage.removeItem("sleepHours")),void 0!==e.miscHours&&(e.miscHours?localStorage.setItem("miscHours",e.miscHours):localStorage.removeItem("miscHours")),e.userName&&localStorage.setItem("userName",e.userName),e.profilePicture&&localStorage.setItem("profilePicture",e.profilePicture),e.timeFormat&&localStorage.setItem("timeFormat",e.timeFormat),e.weekStart&&localStorage.setItem("weekStart",e.weekStart),e.weekData&&Object.entries(e.weekData).forEach(e=>{let[r,t]=e;t&&localStorage.setItem(r,t)}),e.lastProcessedWeekKey&&localStorage.setItem("lastProcessedWeekKey",e.lastProcessedWeekKey),e.notes&&Object.entries(e.notes).forEach(e=>{let[r,t]=e;t&&localStorage.setItem(r,t)}),e.eventNotes&&Object.entries(e.eventNotes).forEach(e=>{let[r,t]=e;t&&localStorage.setItem(r,t)}),window.dispatchEvent(new Event("calendarEventsUpdated")),window.dispatchEvent(new Event("focusAreasUpdated")),window.dispatchEvent(new Event("syncDataApplied"))}catch(e){console.error("Error applying synced data:",e)}}async function o(){try{let e=s();if(!e)throw Error("Failed to collect data");let r=await fetch("/api/sync/data",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:e})});if(!r.ok){let e=await r.json();throw Error(e.error||"Failed to upload data")}return!0}catch(e){throw console.error("Error uploading data:",e),e}}async function l(){try{let e=await fetch("/api/sync/data");if(!e.ok){if(401===e.status)throw Error("Not authenticated");let r=await e.json();throw Error(r.error||"Failed to download data")}return(await e.json()).data}catch(e){throw console.error("Error downloading data:",e),e}}async function n(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"server";try{let r=await l();if(!r)return await o(),{action:"uploaded",data:null};if("server"===e)return a(r),{action:"downloaded",data:r};if("merge"!==e)return await o(),{action:"uploaded",data:null};{let e={...s(),...r};return a(e),await o(),{action:"merged",data:e}}}catch(e){throw console.error("Error syncing data:",e),e}}t.d(r,{hL:function(){return n},uploadData:function(){return o}})}},function(e){e.O(0,[971,117,744],function(){return e(e.s=9509)}),_N_E=e.O()}]);